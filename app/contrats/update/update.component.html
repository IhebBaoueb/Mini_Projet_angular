<div class="col-md-12 form_add_update">
    <div class="card ">
      <div class="card-header card-header-rose card-header-text">
        <div class="card-text">
          <h4 class="card-title">Modify Contrat</h4>
        </div>
      </div>
      <div class="card-body ">
        <form [formGroup]="update_group" (ngSubmit)="save_modify_contrat()">
          <div class="row">
            <label  class="col-sm-2 col-form-label mb-2" >Select etudiant: </label>
            <div class="col-sm-10">
                <!-- <input type="text"  [ngStyle]="etudiants_filtred.length==1 ? {'border': '3px solid green'}:{'border': 'none'}"  formControlName="id_etud" [(ngModel)]="contrat.etudiant.idEtudiant" required minlength="1" class="form-control" (ngModelChange)="update_available()"  placeholder="Search by name or id" list="etud" />
                <u class="list-group">
                  <li  *ngFor="let etd of etudiants_filtred" >Id: {{etd.idEtudiant}} | {{etd.nomE}} {{etd.prenomE}}</li>
                </u> -->
                <select formControlName="id_etud" [(ngModel)]="contrat.etudiant.idEtudiant" required minlength="1" class="form-control" (ngModelChange)="update_available()"  >
                  <option *ngFor="let etd of etudiants"  [value]="etd.idEtudiant">id:{{etd.idEtudiant}} | {{etd.nomE}} {{etd.prenomE}}</option>
                </select>
                <div class="alert alert-danger tazyin_class" *ngIf="update_group.controls['id_etud'].invalid &&  update_group.controls['id_etud'].touched " >
                    Il faut selectionner un etudiant
                  </div> 
            </div>
          </div>
          <div class="row">
            <label class="col-sm-2 col-form-label" >Date debut: </label>
            <div class="col-sm-10">
                <input class="tazyin_class" type="date" formControlName="date_debut" [(ngModel)]="contrat.dateDebutContrat">
                <div class="alert alert-danger tazyin_class" *ngIf="update_group.controls['date_debut'].invalid && update_group.controls['date_debut'].touched ">
                    Il faut selectionner date debut
                  </div> 
            </div>
          </div>
          <div class="row">
            <label class="col-sm-2 col-form-label">Date fin: </label>
            <div class="col-sm-10">
                <input class="tazyin_class" formControlName="date_fin"  [(ngModel)]="contrat.dateFinContrat"  type="date" >
                <div class="alert alert-danger tazyin_class" *ngIf="update_group.controls['date_fin'].invalid && update_group.controls['date_fin'].touched ">
                    <div  *ngIf="update_group.controls['date_fin'].hasError('required')">
                        Il faut selectionner date fin
                      </div>
                      <div *ngIf="update_group.controls['date_fin'].hasError('message')">
                        date fin ne peux pas etre inferieur a date debut
                      </div>
                  </div> 
            </div>
          </div>
          <div class="row">
            <label class="col-sm-2 col-form-label">Archivé: </label>
            <div class="col-sm-10">
                <input  class="tazyin_class" formControlName="archive" [(ngModel)]="contrat.archive" class="checkbox_archive" type="checkbox">
            </div>
          </div>
          <div class="row">
            <label class="col-sm-2 col-form-label"  >Specialité: </label>
            <div class="col-sm-10">
                <select  class="tazyin_class" required formControlName="specialite" [(ngModel)]="contrat.specialite"  name="specialite_select" id="">
                    <option *ngFor="let id of specialite_nom" [ngValue]="id">{{id}}</option>
                </select>
            </div>
          </div>
          <div class="row">
            <label class="col-sm-2 col-form-label">Description: </label>
            <div class="col-sm-10">
                <textarea name="description"  formControlName="description" [(ngModel)]="contrat.description" minlength="3" required  class="tazyin_class" id="" cols="30" rows="10"></textarea>
                <div class="alert alert-danger tazyin_class" *ngIf="update_group.controls['description'].invalid  && update_group.controls['description'].touched ">
                      <div *ngIf="update_group.controls['description'].hasError('required')">this field is required</div>
                      <div *ngIf="update_group.controls['description'].hasError('minlength')">minlength = 3!</div>
                  </div> 
            </div>
          </div>
          <button type="submit" class="mat-focus-indicator btn btn-success mat-raised-button mat-button-base add_contrat" [disabled]="update_group.invalid " [ngStyle]="update_group.invalid? {'background-color': 'red'}:{'background-color': 'green'}" (click)="save_modify_contrat()">Modify Contrat</button>
        </form>
      </div>
    </div>
  </div>

  